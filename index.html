<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bass Reactive MV Visualizer</title>
    <meta name="description" content="ÈùôÊ≠¢Áîª„Å®Èü≥Â£∞„Åã„Çâ‰ΩéÈü≥„Å´ÂèçÂøú„Åô„ÇãMV„Éì„Ç∏„É•„Ç¢„É©„Ç§„Ç∂„Éº„Çí‰ΩúÊàê">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Noto+Sans+JP:wght@300;400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <script src="https://cdn.jsdelivr.net/npm/coi-serviceworker@0.1.7/coi-serviceworker.min.js"></script>
    <!-- Upload Screen -->
    <div id="upload-screen" class="screen active">
        <div class="upload-container">
            <h1 class="title">BASS REACTIVE<br><span class="accent">MV VISUALIZER</span></h1>
            <p class="subtitle">ÈùôÊ≠¢Áîª √ó „Éô„Éº„Çπ = „Ç∫„É≥„Ç∫„É≥</p>

            <div class="upload-zones">
                <div class="upload-zone" id="image-drop-zone">
                    <div class="upload-icon">üñºÔ∏è</div>
                    <p class="upload-label">ÈùôÊ≠¢Áîª„Çí„Éâ„É≠„ÉÉ„Éó</p>
                    <p class="upload-hint">„Åæ„Åü„ÅØ „ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶ÈÅ∏Êäû</p>
                    <input type="file" id="image-input" accept="image/*" hidden>
                    <div class="upload-preview" id="image-preview"></div>
                </div>

                <div class="upload-zone" id="audio-drop-zone">
                    <div class="upload-icon">üéµ</div>
                    <p class="upload-label">Èü≥Â£∞„Çí„Éâ„É≠„ÉÉ„Éó</p>
                    <p class="upload-hint">MP3, WAV, OGG</p>
                    <input type="file" id="audio-input" accept="audio/*" hidden>
                    <div class="upload-preview" id="audio-preview"></div>
                </div>
            </div>

            <button id="start-btn" class="btn-start" disabled>
                <span class="btn-text">‚ñ∂ „Éì„Ç∏„É•„Ç¢„É©„Ç§„Ç∫ÈñãÂßã</span>
                <span class="btn-glow"></span>
            </button>
        </div>
    </div>

    <!-- Visualizer Screen -->
    <div id="visualizer-screen" class="screen">
        <div id="canvas-wrapper">
            <canvas id="main-canvas"></canvas>
        </div>

        <!-- Control Panel -->
        <div id="control-panel" class="glass-panel">
            <div class="control-header">
                <h2>üéõ „Ç≥„É≥„Éà„É≠„Éº„É´</h2>
                <button id="toggle-panel" class="btn-icon" title="„Éë„Éç„É´Ë°®Á§∫ÂàáÊõø">‚óÄ</button>
            </div>

            <div class="control-body">
                <!-- Playback -->
                <div class="control-section">
                    <h3>ÂÜçÁîü</h3>
                    <div class="playback-controls">
                        <button id="play-btn" class="btn-control">‚ñ∂ ÂÜçÁîü</button>
                        <button id="stop-btn" class="btn-control">‚èπ ÂÅúÊ≠¢</button>
                    </div>
                    <div class="progress-bar">
                        <div id="progress-fill"></div>
                    </div>
                    <div class="time-display">
                        <span id="current-time">0:00</span> / <span id="total-time">0:00</span>
                    </div>
                </div>

                <!-- Bass Sensitivity -->
                <div class="control-section">
                    <h3>‰ΩéÈü≥ÊÑüÂ∫¶</h3>
                    <div class="slider-group">
                        <label>ÊÑüÂ∫¶</label>
                        <input type="range" id="sensitivity" min="0.1" max="3" step="0.1" value="1.5">
                        <span id="sensitivity-val">1.5</span>
                    </div>
                    <div class="slider-group">
                        <label>ÊåØÂãï„ÅÆÂº∑„Åï</label>
                        <input type="range" id="shake-intensity" min="0" max="50" step="1" value="15">
                        <span id="shake-val">15</span>
                    </div>
                    <div class="slider-group">
                        <label>„Ç∫„Éº„É†Èáè</label>
                        <input type="range" id="zoom-intensity" min="0" max="0.15" step="0.005" value="0.05">
                        <span id="zoom-val">0.05</span>
                    </div>
                </div>

                <!-- Effects Toggle -->
                <div class="control-section">
                    <h3>„Ç®„Éï„Çß„ÇØ„Éà</h3>
                    <div class="toggle-group">
                        <label class="toggle-label">
                            <input type="checkbox" id="fx-shake" checked>
                            <span class="toggle-switch"></span>
                            „É™„É≥„Ç∞ÊåØÂãï
                        </label>
                    </div>
                    <div class="toggle-group">
                        <label class="toggle-label">
                            <input type="checkbox" id="fx-ring" checked>
                            <span class="toggle-switch"></span>
                            „Çπ„Éî„Éº„Ç´„Éº„É™„É≥„Ç∞
                        </label>
                    </div>
                    <div class="toggle-group">
                        <label class="toggle-label">
                            <input type="checkbox" id="fx-particles" checked>
                            <span class="toggle-switch"></span>
                            „Éë„Éº„ÉÜ„Ç£„ÇØ„É´
                        </label>
                    </div>
                    <div class="toggle-group">
                        <label class="toggle-label">
                            <input type="checkbox" id="fx-glow" checked>
                            <span class="toggle-switch"></span>
                            „Ç∞„É≠„Éº
                        </label>
                    </div>
                    <div class="toggle-group">
                        <label class="toggle-label">
                            <input type="checkbox" id="fx-text" checked>
                            <span class="toggle-switch"></span>
                            BASS DROP„ÉÜ„Ç≠„Çπ„Éà
                        </label>
                    </div>
                </div>

                <!-- Ring Style -->
                <div class="control-section">
                    <h3>„É™„É≥„Ç∞„Çπ„Çø„Ç§„É´</h3>
                    <div class="slider-group">
                        <label>„É™„É≥„Ç∞„Çµ„Ç§„Ç∫</label>
                        <input type="range" id="ring-size" min="0.15" max="0.45" step="0.01" value="0.3">
                        <span id="ring-size-val">0.3</span>
                    </div>
                    <div class="slider-group">
                        <label>„É™„É≥„Ç∞Ëâ≤Áõ∏</label>
                        <input type="range" id="ring-hue" min="0" max="360" step="1" value="270">
                        <span id="ring-hue-val">270</span>
                    </div>
                    <div class="toggle-group">
                        <label class="toggle-label">
                            <input type="checkbox" id="fx-rainbow">
                            <span class="toggle-switch"></span>
                            üåà „Ç≤„Éº„Éü„É≥„Ç∞„Ç´„É©„Éº
                        </label>
                    </div>
                </div>

                <!-- Recording -->
                <div class="control-section">
                    <h3>Èå≤Áîª</h3>
                    <button id="record-btn" class="btn-record">‚è∫ Èå≤ÁîªÈñãÂßã</button>
                    <p class="record-hint" id="record-status">Èå≤ÁîªÊ∫ñÂÇôOK</p>
                </div>

                <!-- Back -->
                <div class="control-section">
                    <button id="back-btn" class="btn-control btn-back">‚Üê Êàª„Çã</button>
                </div>
            </div>
        </div>

        <!-- Bass Meter -->
        <div id="bass-meter" class="glass-panel">
            <div class="meter-label">BASS</div>
            <div class="meter-bar">
                <div id="meter-fill"></div>
            </div>
        </div>
    </div>

    <script src="app.js" type="module"></script>
</body>

</html>